:root {
  --bg: #1a1a18;
  --surface: #222220;
  --border: #333330;
  --fg: #e8e4d9;
  --fg-muted: #888880;
  --accent: #d4a843;
  --accent-dim: #2a2214;
  --danger: #c45b4a;
}
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body, #root { height: 100%; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; background: var(--bg); color: var(--fg); font-size: 15px; line-height: 1.6; }

.consent-overlay { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 2rem; }
.consent-card { max-width: 420px; width: 100%; background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 2rem; }
.consent-logo { font-size: 1.75rem; font-weight: 700; color: var(--accent); }
.consent-tagline { font-size: 13px; color: var(--fg-muted); margin-bottom: 1.5rem; }
.consent-intro { font-size: 14px; color: var(--fg); margin-bottom: 1rem; }
.consent-streams { list-style: none; display: flex; flex-direction: column; gap: 0.65rem; margin-bottom: 1.25rem; }
.consent-streams li { font-size: 14px; display: flex; flex-direction: column; gap: 0.15rem; padding: 0.6rem 0.75rem; background: var(--accent-dim); border-radius: 4px; }
.consent-streams li strong { color: var(--fg); font-weight: 600; }
.consent-streams li span { color: var(--fg-muted); font-size: 13px; }
.consent-expiry { font-size: 13px; color: var(--fg-muted); margin-bottom: 1.5rem; font-style: italic; }
.consent-actions { display: flex; gap: 0.75rem; margin-bottom: 1.25rem; }
.btn-consent-yes { flex: 1; background: var(--accent); color: #1a1a18; border: none; border-radius: 4px; padding: 0.6rem 1rem; font-size: 14px; font-weight: 600; cursor: pointer; }
.btn-consent-yes:hover { background: #e8ba55; }
.btn-consent-no { flex: 1; background: transparent; color: var(--fg-muted); border: 1px solid var(--border); border-radius: 4px; padding: 0.6rem 1rem; font-size: 14px; cursor: pointer; }
.btn-consent-no:hover { color: var(--fg); border-color: var(--fg-muted); }
.consent-safe { font-size: 11px; color: var(--fg-muted); letter-spacing: 0.05em; text-align: center; }

.journal-app { display: flex; flex-direction: column; height: 100vh; }
.app-header { display: flex; align-items: center; gap: 1rem; padding: 0 1.25rem; height: 48px; border-bottom: 1px solid var(--border); background: var(--surface); flex-shrink: 0; }
.app-wordmark { font-size: 16px; font-weight: 700; color: var(--accent); }
.session-notice { font-size: 12px; color: var(--fg-muted); margin-left: auto; }

.delta-badge { font-size: 12px; font-weight: 600; padding: 0.2rem 0.5rem; border-radius: 3px; }
.delta-regenerative { background: #1a2e1a; color: #5aaa6a; }
.delta-stable { background: var(--accent-dim); color: var(--accent); }
.delta-decaying { background: #2e1a1a; color: #c45b4a; }

.journal-layout { display: grid; grid-template-columns: 280px 1fr; flex: 1; overflow: hidden; }
.entry-sidebar { border-right: 1px solid var(--border); overflow-y: auto; padding: 1rem; display: flex; flex-direction: column; gap: 0.5rem; }
.sidebar-label { font-size: 11px; font-weight: 700; letter-spacing: 0.12em; text-transform: uppercase; color: var(--fg-muted); padding-bottom: 0.5rem; border-bottom: 1px solid var(--border); margin-bottom: 0.25rem; }
.empty-state { font-size: 13px; color: var(--fg-muted); padding: 0.5rem 0; }

.entry-card { background: var(--surface); border: 1px solid var(--border); border-radius: 4px; padding: 0.75rem; cursor: pointer; transition: border-color 0.15s; }
.entry-card:hover { border-color: var(--accent); }
.entry-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 0.35rem; }
.entry-date { font-size: 11px; color: var(--fg-muted); }
.entry-tone { font-size: 10px; font-weight: 600; padding: 0.15rem 0.4rem; border-radius: 2px; text-transform: uppercase; letter-spacing: 0.06em; }
.tone-reflective { background: #1a2030; color: #6a9fd4; }
.tone-grateful { background: #1a2e1a; color: #6aaa7a; }
.tone-processing { background: #2a2214; color: #d4a843; }
.tone-raw { background: #2e1a1a; color: #c47a6a; }
.entry-title { font-size: 13px; font-weight: 600; color: var(--fg); margin-bottom: 0.25rem; }
.entry-body.collapsed { font-size: 13px; color: var(--fg-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.entry-body.expanded { font-size: 13px; color: var(--fg-muted); white-space: pre-wrap; margin-top: 0.25rem; }
.btn-delete { margin-top: 0.75rem; font-size: 12px; color: var(--danger); background: transparent; border: 1px solid var(--danger); border-radius: 3px; padding: 0.25rem 0.6rem; cursor: pointer; opacity: 0.7; }
.btn-delete:hover { opacity: 1; }

.editor-pane { display: flex; flex-direction: column; padding: 1.25rem; gap: 0.75rem; overflow-y: auto; }
.editor-title { background: transparent; border: none; border-bottom: 1px solid var(--border); color: var(--fg); font-size: 18px; font-weight: 600; padding: 0.4rem 0; outline: none; width: 100%; }
.editor-title::placeholder { color: var(--fg-muted); }
.editor-title:focus { border-bottom-color: var(--accent); }
.editor-body { background: transparent; border: none; border-bottom: 1px solid var(--border); color: var(--fg); font-size: 15px; padding: 0.4rem 0; outline: none; width: 100%; resize: none; font-family: inherit; line-height: 1.7; }
.editor-body::placeholder { color: var(--fg-muted); }
.editor-body:focus { border-bottom-color: var(--accent); }
.editor-footer { display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap; }
.tone-selector { display: flex; gap: 0.4rem; flex-wrap: wrap; }
.tone-btn { background: transparent; border: 1px solid var(--border); color: var(--fg-muted); border-radius: 3px; padding: 0.25rem 0.65rem; font-size: 12px; cursor: pointer; transition: all 0.15s; }
.tone-btn:hover { color: var(--fg); border-color: var(--fg-muted); }
.tone-btn.active { background: var(--accent-dim); border-color: var(--accent); color: var(--accent); }
.btn-save { background: var(--accent); color: #1a1a18; border: none; border-radius: 4px; padding: 0.5rem 1.25rem; font-size: 14px; font-weight: 600; cursor: pointer; }
.btn-save:hover { background: #e8ba55; }
.btn-save:disabled { opacity: 0.35; cursor: not-allowed; }

@media (max-width: 600px) {
  .journal-layout { grid-template-columns: 1fr; }
  .entry-sidebar { max-height: 35vh; border-right: none; border-bottom: 1px solid var(--border); }
}

/* ── Breath Ring ── */
.breath-ring-wrap {
  flex-shrink: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.breath-ring {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid var(--accent);
  transition: border-color 0.8s ease, box-shadow 0.8s ease;
  transform-origin: center;
}

/* ── Bell message ── */
.bell-message {
  flex: 1;
  font-size: 0.75rem;
  color: var(--fg-muted);
  font-style: italic;
  text-align: center;
  letter-spacing: 0.03em;
  transition: color 0.8s ease;
}

/* ── Mode themes ── */
.mode-calm .bell-message  { color: #5a9ab8; }
.mode-uplift .bell-message { color: var(--accent); }

.mode-calm .editor-body:focus,
.mode-calm .editor-title:focus  { border-bottom-color: #4a90b8; }
.mode-uplift .editor-body:focus,
.mode-uplift .editor-title:focus { border-bottom-color: #d4a843; }

/* ── Layout wrapper ── */
.app-layout { height: 100%; }

/* ── Page 1 Home ── */
.page-home {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}
.home-card {
  max-width: 380px;
  width: 100%;
  text-align: center;
}
.home-wordmark {
  font-size: 3.5rem;
  font-weight: 700;
  color: var(--accent);
  line-height: 1;
  margin-bottom: 0.25rem;
}
.home-tagline {
  font-size: 12px;
  color: var(--fg-muted);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin-bottom: 2.5rem;
}
.home-description {
  font-size: 15px;
  color: var(--fg);
  line-height: 1.8;
  margin-bottom: 2.5rem;
}
.btn-begin {
  background: var(--accent);
  color: #1a1a18;
  border: none;
  border-radius: 4px;
  padding: 0.75rem 3rem;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  display: block;
  width: 100%;
  margin-bottom: 1rem;
}
.btn-begin:hover { background: #e8ba55; }
.home-note { font-size: 12px; color: var(--fg-muted); }

/* ── Sidebar label (flex for export button) ── */
.sidebar-label {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* ── Export button ── */
.btn-export {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--fg-muted);
  border-radius: 3px;
  padding: 0.1rem 0.45rem;
  font-size: 13px;
  line-height: 1.4;
  cursor: pointer;
  flex-shrink: 0;
}
.btn-export:hover { color: var(--fg); border-color: var(--fg-muted); }
