{"openapi":"3.1.0","info":{"title":"Willow","version":"0.1.0"},"paths":{"/api/health":{"get":{"summary":"Health","description":"Fast health check — no Ollama ping, no DB queries.","operationId":"health_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/system/status":{"get":{"summary":"System Status","description":"Comprehensive system status for Willow health monitoring.\nChecks: Ollama, server uptime, governance queue, intake pipeline, engine, tunnel.","operationId":"system_status_api_system_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/status":{"get":{"summary":"Status","operationId":"status_api_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/personas":{"get":{"summary":"Personas","operationId":"personas_api_personas_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/chat":{"post":{"summary":"Chat","operationId":"chat_api_chat_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/chat/multi":{"post":{"summary":"Chat Multi","description":"Parallel multi-persona chat.\n\nBody: {\"tasks\": [{\"persona\": \"Kart\", \"prompt\": \"...\"}, ...]}\n\nSpawns threads for each persona, streams all responses tagged by persona.","operationId":"chat_multi_api_chat_multi_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/knowledge/search":{"get":{"summary":"Knowledge Search","operationId":"knowledge_search_api_knowledge_search_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"type":"string","default":"","title":"Q"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/knowledge/gaps":{"get":{"summary":"Knowledge Gaps","operationId":"knowledge_gaps_api_knowledge_gaps_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/knowledge/stats":{"get":{"summary":"Knowledge Stats","operationId":"knowledge_stats_api_knowledge_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/coherence":{"get":{"summary":"Coherence","operationId":"coherence_api_coherence_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/tts/speak":{"post":{"summary":"Tts Speak","description":"Convert text to speech. Returns audio/wav bytes.","operationId":"tts_speak_api_tts_speak_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/tts/voices":{"get":{"summary":"Tts Voices","description":"List available TTS voices.","operationId":"tts_voices_api_tts_voices_get","parameters":[{"name":"provider","in":"query","required":false,"schema":{"type":"string","default":"","title":"Provider"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tts/providers":{"get":{"summary":"Tts Providers","description":"List available TTS providers by tier.","operationId":"tts_providers_api_tts_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/skills/status":{"get":{"summary":"Skills Status","description":"System health check.","operationId":"skills_status_api_skills_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/skills/query":{"get":{"summary":"Skills Query","description":"Query knowledge base.","operationId":"skills_query_api_skills_query_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","title":"Q"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/skills/route":{"post":{"summary":"Skills Route","description":"Route a file with content extraction.","operationId":"skills_route_api_skills_route_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/skills/journal":{"post":{"summary":"Skills Journal","description":"Add journal entry.","operationId":"skills_journal_api_skills_journal_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/skills/persona":{"post":{"summary":"Skills Persona","description":"Invoke a persona.","operationId":"skills_persona_api_skills_persona_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/ingest":{"post":{"summary":"Ingest","description":"Ingest a dropped file into the knowledge DB.","operationId":"ingest_api_ingest_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_ingest_api_ingest_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/routing/schema":{"get":{"summary":"Routing Schema","description":"Return canonical folders, aliases, and proposed folders.","operationId":"routing_schema_api_routing_schema_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/routing/promote":{"post":{"summary":"Routing Promote","description":"Promote a proposed folder to canonical.","operationId":"routing_promote_api_routing_promote_post","parameters":[{"name":"folder","in":"query","required":true,"schema":{"type":"string","title":"Folder"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/routing/reject":{"post":{"summary":"Routing Reject","description":"Reject a proposed folder — route its contents to archive.","operationId":"routing_reject_api_routing_reject_post","parameters":[{"name":"folder","in":"query","required":true,"schema":{"type":"string","title":"Folder"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/folders":{"get":{"summary":"Files Folders","description":"List canonical folders with file counts.","operationId":"files_folders_api_files_folders_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/files/list":{"get":{"summary":"Files List","description":"List files in a folder with metadata.","operationId":"files_list_api_files_list_get","parameters":[{"name":"folder","in":"query","required":false,"schema":{"type":"string","default":"pending","title":"Folder"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/preview":{"get":{"summary":"Files Preview","description":"Return file preview: image as base64, text as snippet, binary as metadata.","operationId":"files_preview_api_files_preview_get","parameters":[{"name":"file","in":"query","required":true,"schema":{"type":"string","title":"File"}},{"name":"folder","in":"query","required":true,"schema":{"type":"string","title":"Folder"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/move":{"post":{"summary":"Files Move","description":"Move a file between folders.","operationId":"files_move_api_files_move_post","parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","title":"Filename"}},{"name":"from_folder","in":"query","required":true,"schema":{"type":"string","title":"From Folder"}},{"name":"to_folder","in":"query","required":true,"schema":{"type":"string","title":"To Folder"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/tag":{"post":{"summary":"Files Tag","description":"Tag a file and optionally provide routing feedback for learning.","operationId":"files_tag_api_files_tag_post","parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","title":"Filename"}},{"name":"folder","in":"query","required":true,"schema":{"type":"string","title":"Folder"}},{"name":"ring","in":"query","required":false,"schema":{"type":"string","title":"Ring"}},{"name":"category","in":"query","required":false,"schema":{"type":"string","title":"Category"}},{"name":"tags","in":"query","required":false,"schema":{"type":"string","title":"Tags"}},{"name":"feedback_correct","in":"query","required":false,"schema":{"type":"boolean","title":"Feedback Correct"}},{"name":"corrected_folder","in":"query","required":false,"schema":{"type":"string","title":"Corrected Folder"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/topology/rings":{"get":{"summary":"Topology Rings","description":"Atom counts by ring.","operationId":"topology_rings_api_topology_rings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/topology/zoom/{node_id}":{"get":{"summary":"Topology Zoom","description":"Traverse from an atom. ?depth=2 for recursive.","operationId":"topology_zoom_api_topology_zoom__node_id__get","parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}},{"name":"depth","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Depth"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/topology/continuity":{"get":{"summary":"Topology Continuity","description":"Strip continuity check — find gaps in the Möbius strip.","operationId":"topology_continuity_api_topology_continuity_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/topology/flow":{"get":{"summary":"Topology Flow","description":"Sankey-style ring flow graph.","operationId":"topology_flow_api_topology_flow_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/topology/build_edges":{"post":{"summary":"Topology Build Edges","description":"Compute edges between atoms. Incremental.","operationId":"topology_build_edges_api_topology_build_edges_post","parameters":[{"name":"batch_size","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Batch Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/topology/cluster":{"post":{"summary":"Topology Cluster","description":"Cluster atoms via KMeans over embeddings.","operationId":"topology_cluster_api_topology_cluster_post","parameters":[{"name":"n_clusters","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"N Clusters"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pa/scan":{"post":{"summary":"Pa Scan","description":"Scan the entire Drive, classify everything, detect duplicates.","operationId":"pa_scan_api_pa_scan_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/pa/plan":{"get":{"summary":"Pa Plan","description":"Get the current move plan.","operationId":"pa_plan_api_pa_plan_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/pa/execute":{"post":{"summary":"Pa Execute","description":"Execute approved moves. Body: {scope: \"organize\"|\"dedupe\"|\"cleanup\"}","operationId":"pa_execute_api_pa_execute_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/pa/status":{"get":{"summary":"Pa Status","description":"Get current PA progress.","operationId":"pa_status_api_pa_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/pa/correct":{"post":{"summary":"Pa Correct","description":"Correct a misrouted file or mis-transcribed content.\nBody: {\n    path: \"current/relative/path.md\",        (required)\n    destination: \"Creative/\",                 (optional — move here)\n    text: \"corrected transcription content\",  (optional — re-ingest)\n    category: \"creative\"                      (optional — new category)\n}","operationId":"pa_correct_api_pa_correct_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/neocities/deploy":{"post":{"summary":"Neocities Deploy","description":"Push pocket Willow to seancampbell.neocities.org.","operationId":"neocities_deploy_api_neocities_deploy_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/neocities/info":{"get":{"summary":"Neocities Info","description":"Get Neocities site info.","operationId":"neocities_info_api_neocities_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/governance/pending":{"get":{"summary":"Governance Pending","description":"List all pending governance commits awaiting ratification.","operationId":"governance_pending_api_governance_pending_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/governance/history":{"get":{"summary":"Governance History","description":"List ratified and rejected commits (history).","operationId":"governance_history_api_governance_history_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/governance/diff/{commit_id}":{"get":{"summary":"Governance Diff","description":"Get the contents of a pending commit for review.","operationId":"governance_diff_api_governance_diff__commit_id__get","parameters":[{"name":"commit_id","in":"path","required":true,"schema":{"type":"string","title":"Commit Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/governance/approve":{"post":{"summary":"Governance Approve","description":"Approve (ratify) a pending commit. Moves .pending → .commit.","operationId":"governance_approve_api_governance_approve_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/governance/reject":{"post":{"summary":"Governance Reject","description":"Reject a pending commit. Moves .pending → .reject and appends reason.","operationId":"governance_reject_api_governance_reject_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/governance/audit/head":{"get":{"summary":"Governance Audit Head","description":"Current audit chain head: hash + sequence + entry count.","operationId":"governance_audit_head_api_governance_audit_head_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/governance/audit/verify":{"get":{"summary":"Governance Audit Verify","description":"Verify audit chain integrity (tamper check).","operationId":"governance_audit_verify_api_governance_audit_verify_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/safe/status":{"get":{"summary":"Safe Status","description":"SAFE repo sync status: last sync, last error, repo reachability.","operationId":"safe_status_api_safe_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/safe/sync":{"post":{"summary":"Safe Sync Now","description":"Trigger a one-shot SAFE sync.","operationId":"safe_sync_now_api_safe_sync_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/patterns/stats":{"get":{"summary":"Patterns Stats","description":"Get routing pattern statistics.","operationId":"patterns_stats_api_patterns_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/patterns/preferences":{"get":{"summary":"Patterns Preferences","description":"Get learned routing preferences.","operationId":"patterns_preferences_api_patterns_preferences_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/patterns/suggestions":{"get":{"summary":"Patterns Suggestions","description":"Get suggested automatic routing rules.","operationId":"patterns_suggestions_api_patterns_suggestions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/patterns/confirm_rule":{"post":{"summary":"Patterns Confirm Rule","description":"User confirms a suggested routing rule.","operationId":"patterns_confirm_rule_api_patterns_confirm_rule_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/patterns/reject_rule":{"post":{"summary":"Patterns Reject Rule","description":"User rejects a suggested routing rule.","operationId":"patterns_reject_rule_api_patterns_reject_rule_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/patterns/anomalies":{"get":{"summary":"Patterns Anomalies","description":"Detect routing and entity anomalies.","operationId":"patterns_anomalies_api_patterns_anomalies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/feedback/stats":{"get":{"summary":"Feedback Stats","description":"Get feedback statistics by provider and task type.","operationId":"feedback_stats_api_feedback_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/feedback/tasks/{task_type}":{"get":{"summary":"Feedback For Task","description":"Get feedback for a specific task type.","operationId":"feedback_for_task_api_feedback_tasks__task_type__get","parameters":[{"name":"task_type","in":"path","required":true,"schema":{"type":"string","title":"Task Type"}},{"name":"min_quality","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Min Quality"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/feedback/provide":{"post":{"summary":"Provide Feedback","description":"Submit feedback about a fleet output.\n\nBody: {\n    \"provider\": \"Groq\",\n    \"task_type\": \"html_generation\",\n    \"prompt\": \"original prompt\",\n    \"output\": \"what the fleet generated\",\n    \"quality\": 2,  // 1-5 stars\n    \"issues\": [\"wrong_tech_stack\", \"syntax_errors\"],\n    \"notes\": \"Generated React code instead of vanilla JS\",\n    \"corrected\": \"optional corrected version\"\n}","operationId":"provide_feedback_api_feedback_provide_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/annotations/unannotated":{"get":{"summary":"Get Unannotated Routings","description":"Get routing decisions that haven't been annotated yet.","operationId":"get_unannotated_routings_api_annotations_unannotated_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/annotations/provide":{"post":{"summary":"Provide Annotation","description":"Submit an annotation for a routing decision.\n\nBody: {\n    \"routing_id\": 123,\n    \"filename\": \"test.py\",\n    \"routed_to\": [\"node1\", \"node2\"],\n    \"is_correct\": false,\n    \"notes\": \"Should have gone to code_review because...\",\n    \"corrected_destination\": [\"code_review\"]\n}","operationId":"provide_annotation_api_annotations_provide_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/annotations/stats":{"get":{"summary":"Get Annotation Stats","description":"Get file annotation statistics.","operationId":"get_annotation_stats_api_annotations_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/report":{"get":{"summary":"Health Report","description":"Comprehensive system health report.","operationId":"health_report_api_health_report_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/nodes":{"get":{"summary":"Health Nodes","description":"Check health of all nodes' knowledge databases.","operationId":"health_nodes_api_health_nodes_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/nodes/create_db":{"post":{"summary":"Create Node Db","description":"Create knowledge database for a node.\n\nBody: {\"node_name\": \"some_node\"}","operationId":"create_node_db_api_nodes_create_db_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/queues":{"get":{"summary":"Health Queues","description":"Check pending queue backlogs.","operationId":"health_queues_api_health_queues_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/apis":{"get":{"summary":"Health Apis","description":"Check API health (Ollama, Gemini, Groq, etc.).","operationId":"health_apis_api_health_apis_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/issues":{"get":{"summary":"Health Issues","description":"Get unresolved health issues.","operationId":"health_issues_api_health_issues_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/heal":{"post":{"summary":"Health Heal","description":"Attempt to self-heal a specific issue.","operationId":"health_heal_api_health_heal_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/providers":{"get":{"summary":"Get Provider Health","description":"Get health status for all LLM providers.","operationId":"get_provider_health_api_health_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/providers/unblacklist":{"post":{"summary":"Unblacklist Provider","description":"Manually unblacklist a provider.","operationId":"unblacklist_provider_api_health_providers_unblacklist_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/health/providers/reset":{"post":{"summary":"Reset Provider Health","description":"Reset health counters for a provider.","operationId":"reset_provider_health_api_health_providers_reset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/queues/files":{"get":{"summary":"Get Queue Files","description":"List files in a specific user's pending queue.","operationId":"get_queue_files_api_queues_files_get","parameters":[{"name":"queue","in":"query","required":false,"schema":{"type":"string","title":"Queue"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/queues/clear":{"post":{"summary":"Clear Queue","description":"Clear all files from a user's pending queue.","operationId":"clear_queue_api_queues_clear_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/intake/retry/{stage}":{"post":{"summary":"Retry Intake Stage","description":"Retry all files in an intake stage by moving them back to dump.","operationId":"retry_intake_stage_api_intake_retry__stage__post","parameters":[{"name":"stage","in":"path","required":true,"schema":{"type":"string","title":"Stage"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/intake/clear/{stage}":{"post":{"summary":"Clear Intake Stage","description":"Clear all files from an intake stage (moves to clear).","operationId":"clear_intake_stage_api_intake_clear__stage__post","parameters":[{"name":"stage","in":"path","required":true,"schema":{"type":"string","title":"Stage"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/health/issues/dismiss":{"post":{"summary":"Dismiss Issue","description":"Dismiss a health issue by ID.","operationId":"dismiss_issue_api_health_issues_dismiss_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/pocket":{"get":{"summary":"Serve Pocket","description":"Serve pocket Willow from same origin — no CORS / mixed-content issues.","operationId":"serve_pocket_pocket_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/governance":{"get":{"summary":"Serve Governance Dashboard","description":"Serve governance dashboard for dual commit review (admin only).","operationId":"serve_governance_dashboard_governance_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/system":{"get":{"summary":"Serve System Dashboard","description":"Serve system dashboard for pattern recognition and health monitoring.","operationId":"serve_system_dashboard_system_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Serve Index","operationId":"serve_index__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/request_manager/stats":{"get":{"summary":"Request Manager Stats","description":"Rate limit status and cache stats for all providers.","operationId":"request_manager_stats_api_request_manager_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/request_manager/clear_cache":{"post":{"summary":"Request Manager Clear Cache","description":"Clear the LLM response cache.","operationId":"request_manager_clear_cache_api_request_manager_clear_cache_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/reload":{"post":{"summary":"Reload Module","description":"Hot-reload a core module without restarting the server.\n\nWorks for: llm_router, extraction, tts_router, knowledge, coherence,\n           topology, provider_health, patterns_provider, fleet_feedback\nDoes NOT affect route definitions (those need server restart).","operationId":"reload_module_api_reload_post","parameters":[{"name":"module","in":"query","required":true,"schema":{"type":"string","title":"Module"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/reload/all":{"post":{"summary":"Reload All","description":"Hot-reload all core modules at once.","operationId":"reload_all_api_reload_all_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/learn":{"post":{"summary":"Learn Start","description":"Start bulk ingest of all repos + Google Drive into knowledge DB.","operationId":"learn_start_api_learn_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/learn/status":{"get":{"summary":"Learn Status","description":"Check bulk learn progress.","operationId":"learn_status_api_learn_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_ingest_api_ingest_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_ingest_api_ingest_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}